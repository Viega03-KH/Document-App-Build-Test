import{_ as v,a as u,H as h,o as d,d as y,l as g,J as k,t as _,K as w,b as t,v as c,g as m,f as o,q as $,c as x,h as j,F as D,x as B,r as S,s as M}from"./index-m9snDiDH.js";import{H as Y,u as F,_ as P,S as C}from"./taskStore-CdyPvgyK.js";import{d as b}from"./dayjs.min-Cg4NN4d1.js";import{u as A}from"./dockStore-C6Aj-C2T.js";import{_ as q}from"./UPagination-BZpHZZNW.js";import"./trash-2-BvdWlrNA.js";import"./chevron-right-HP1YvwTO.js";const N={},V={class:"flex items-center px-2 card-dark border-b"};function H(s,e){return d(),u("div",V,[...e[0]||(e[0]=[h('<div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-2 border-b-blue-500"><span class="text-gray-700 dark:text-gray-300 font-semibold">Barchasi</span><span class="bg-orange-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">187</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilgan</span><span class="bg-green-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">154</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilmagan</span><span class="bg-red-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilmoqda</span><span class="bg-blue-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">32</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Muddatidan kech bajarilgan</span><span class="bg-amber-400 text-white text-sm px-2 py-0.5 rounded-full font-semibold">1</span></div>',5)])])}const I=v(N,[["render",H]]),T={class:"flex flex-row"},U={class:"flex-1 min-w-0"},K={class:"flex flex-row items-center justify-between pb-2"},L={class:"text-sm font-extrabold text-black"},z={class:"text-sm font-medium text-[#697696]"},E={class:"flex flex-col gap-y-2"},J={class:"flex flex-row items-center justify-between"},O={class:"flex-1 min-w-0 text-sm font-medium text-[#697696] line-clamp-2"},G={class:"flex-1 min-w-0 text-sm font-medium text-[#697696] line-clamp-2"},Q={class:"inline-block card-dark border text-[14px] font-semibold text-black rounded-[10px] px-3 py-2 w-fit"},R="task card-dark border-b px-3 py-4 cursor-pointer hover:bg-[#4076FF0D]",W={__name:"TaskListItem",props:{task:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(s){const e=s,f=A(),r=y([]);g(async()=>{if(e.task.incoming_documents_id){const i=Array.isArray(e.task.incoming_documents_id)?e.task.incoming_documents_id:[e.task.incoming_documents_id];if(i.length>0){const a=i.map(l=>f.fetchDock(l)),p=await Promise.all(a);r.value=p.filter(l=>l&&l.incoming_number).map(l=>l.incoming_number)}}});const n=k(()=>b(e.task.doc_date).format("DD MMM YYYY"));return(i,a)=>_((d(),u("div",{onClick:a[0]||(a[0]=p=>i.$emit("select",s.task)),class:$([R,s.active?"bg-[#4076FF0D]":""])},[t("div",T,[t("div",U,[t("div",K,[t("h4",L,c(r.value.join(", ")||""),1),t("h4",z,c(n.value),1)]),t("div",E,[t("div",J,[a[1]||(a[1]=t("span",{class:"flex-1 min-w-0 truncate text-sm font-bold text-black"}," Kiruvchi hujjat ",-1)),m(o(Y),{class:"w-5 h-5 text-blue-500"})]),t("span",O,c(s.task.description),1),t("span",G," Bajarish mudati: "+c(o(b)(s.task.deadline_end).format("DD MMMM YYYY")),1),t("div",Q,c(s.task.user?.profile?.firstname.charAt(0))+"."+c(s.task.user?.profile?.lastname),1)])])])],2)),[[w,r.value.length]])}},X={class:"mx-auto"},Z={class:"grid grid-cols-1 lg:grid-cols-12"},tt={class:"col-span-12 md:col-span-4 2xl:col-span-3"},et={class:"card-dark border-b-2 border-x shadow-sm"},st={class:"flex px-1 py-3 items-center border-b card-border justify-between"},at={class:"flex items-center"},ot={class:"flex gap-1"},rt={class:"h-[calc(100vh-8rem)] overflow-y-auto"},nt={class:"col-span-12 md:col-span-8 2xl:col-span-9 space-y-2 px-10 h-[calc(100vh-4rem)] overflow-y-aut"},ft={__name:"InexecutionViews",setup(s){const e=F(),f=r=>e.fetchAll(r);return g(()=>{e.fetchAll()}),(r,n)=>{const i=S("UButton"),a=M("wave");return d(),u("div",X,[m(I),t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("div",at,[_((d(),x(i,{variant:"hover"},{default:j(()=>[m(o(C),{"stroke-width":"2",class:"w-6 h-6"})]),_:1})),[[a]]),n[0]||(n[0]=t("h2",{class:"text-[14px] p-2 font-bold uppercase text-[#282F3D]"}," Topshiriqlar ",-1))]),t("div",ot,[m(q,{total:o(e).pagination.total,currentPage:o(e).pagination.current_page,lastPage:o(e).pagination.last_page,onChange:f},null,8,["total","currentPage","lastPage"])])]),t("div",rt,[(d(!0),u(D,null,B(o(e).tasks,p=>(d(),x(W,{key:p.id,task:p},null,8,["task"]))),128)),n[1]||(n[1]=t("div",{class:"h-24 w-full"},null,-1))])])]),t("div",nt,[m(P)])])])}}};export{ft as default};
