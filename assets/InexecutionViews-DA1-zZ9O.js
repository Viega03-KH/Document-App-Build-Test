import{d as D}from"./dayjs.min-Cv2c9I67.js";import{H as C,_ as s,a as H,b as q,u as I,U as M,S as B,L}from"./UStatus-CYuOgW6z.js";import{r as P,e as u,o,f as e,t as v,h as T,i as t,j as h,g as d,v as p,c as k,s as w,F as y,z as $,L as V,b as _,D as Y,m as F,y as g,M as x,x as N}from"./index-BI14Y88U.js";import{_ as U}from"./UPagination-DwUj9Zqo.js";import"./chevron-right-xnhJiUp0.js";const A={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-6"},O={class:"flex-1 min-w-0"},E={class:"text-xl font-semibold text-zinc-800 dark:text-white/90"},K={class:"flex flex-col gap-1 font-medium text-md"},Q={class:"flex-1 min-w-0 truncate"},R={class:"flex gap-1"},G={class:"card-dark mt-2 inline-flex rounded-full border px-2 py-0.5 text-md font-semibold truncate max-w-full"},J={class:"card-dark mt-2 inline-flex rounded-full border px-2 py-0.5 text-md font-semibold truncate max-w-full"},W={class:"flex-shrink-0 mt-2 md:mt-0"},X="task card-dark border-b px-3 py-2 cursor-pointer hover:bg-blue-100 dark:hover:bg-zinc-600/50",Z={__name:"DockListItem",props:{dock:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(l){return(n,a)=>{const c=P("UTooltip");return o(),u("div",{onClick:a[0]||(a[0]=f=>n.$emit("select",l.dock)),class:p([X,l.active?"bg-blue-100":""])},[e("div",A,[e("div",O,[e("h4",E,"SSV-"+v(l.dock.id)+"/05",1),e("div",K,[e("span",Q,[a[1]||(a[1]=e("span",{class:"font-semibold whitespace-nowrap"},"Mazmun:",-1)),T(" "+v(l.dock.short_content?.slice(0,200))+v((l.dock.short_content?.length??0)>50?"...":""),1)])]),e("div",R,[t(c,{text:"Ijrochi",position:"bottom"},{default:h(()=>[e("span",G,v(l.dock.executor),1)]),_:1}),t(c,{text:"Yaratilgan sana",position:"bottom"},{default:h(()=>[e("span",J,v(l.dock.doc_date?d(D)(l.dock.doc_date).format("YYYY-MM-DD HH:mm"):""),1)]),_:1})])]),e("div",W,[t(c,{text:"Ijro holatida",position:"top"},{default:h(()=>[t(d(C),{class:"w-5 h-5 text-blue-500"})]),_:1})])])],2)}}},ee={key:0},le={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},te={key:0},ae={class:"gap-2 grid grid-cols-2"},se={__name:"DockShowItem",props:{dockfile:{type:Object,default:null}},setup(l){return(n,a)=>l.dockfile?(o(),u("div",ee,[e("div",le,[t(s,{label:"Kelib tushgan raqam",value:l.dockfile.incoming_number},null,8,["value"]),t(s,{label:"Chiqish raqami",value:l.dockfile.outgoing_number},null,8,["value"]),t(s,{label:"Hujjat nomi",value:l.dockfile.document_name,class:"md:col-span-2"},null,8,["value"]),t(s,{label:"Ijrochi",value:l.dockfile.executor},null,8,["value"]),t(s,{label:"Telefon raqam",value:l.dockfile.phone_number},null,8,["value"]),t(s,{label:"Holati",value:l.dockfile.status_id},null,8,["value"]),t(s,{label:"Qisqa mazmun",value:l.dockfile.short_content,class:"md:col-span-2"},null,8,["value"]),t(s,{label:"Tashkilot",value:l.dockfile.organization_name_oz},null,8,["value"]),t(s,{label:"Hujjat turi",value:l.dockfile.doc_type_name_oz},null,8,["value"]),t(s,{label:"Yetkazib berish usuli",value:l.dockfile.delivery_methods_name_oz},null,8,["value"]),t(s,{label:"Masala turi",value:l.dockfile.issue_type_name_oz},null,8,["value"]),t(s,{label:"Bajarish muddate",value:l.dockfile.doc_date},null,8,["value"])]),l.dockfile.files?.length?(o(),u("div",te,[a[0]||(a[0]=e("h3",{class:"font-semibold mb-2"},"Fayllar:",-1)),e("div",ae,[(o(!0),u(y,null,$(l.dockfile.files,c=>(o(),k(H,{key:c.id,file:c},null,8,["file"]))),128))])])):w("",!0)])):(o(),k(q,{key:1}))}},oe={class:"mx-auto"},ie={class:"w-full card-dark flex items-center justify-between rounded px-2"},ne={class:"grid grid-cols-1 lg:grid-cols-12"},ce={class:"card-dark border"},de={class:"flex px-1 py-4 items-center border-b card-border justify-between"},re={class:"flex gap-1"},ue={class:"h-[calc(100vh-8rem)] overflow-y-auto"},fe={key:0,class:"lg:col-span-8 2xl:col-span-8 pb-10 space-y-2"},me={class:"card-dark border"},ve={class:"h-[calc(100vh-8rem)] overflow-y-auto"},xe={__name:"InexecutionViews",setup(l){const n=I();V();const a=_(null),c=_(null),f=_(!0),j=r=>n.fetchAll(r);function z(){f.value=!f.value}function S(r){c.value=r.id,a.value=r}return Y(()=>n.docks,r=>{if(a.value){const i=r.find(m=>m.id===a.value.id);i&&(a.value=i)}},{deep:!0}),F(async()=>{await n.fetchAll()}),(r,i)=>{const m=N("wave");return o(),u("div",oe,[e("div",ie,[t(M)]),e("div",ne,[e("div",{class:p(f.value?"lg:col-span-4 2xl:col-span-4":"lg:col-span-12 2xl:col-span-12")},[e("div",ce,[e("div",de,[i[0]||(i[0]=e("h2",{class:"text-lg p-2 font-semibold text-dark"},"Topshiriqlar",-1)),e("div",re,[g((o(),k(x,{variant:"hover"},{default:h(()=>[t(d(B),{"stroke-width":1,class:"w-6 h-6"})]),_:1})),[[m]]),g((o(),k(x,{variant:"hover",onClick:z},{default:h(()=>[t(d(L),{"stroke-width":1,class:"w-6 h-6"})]),_:1})),[[m]])])]),e("div",ue,[(o(!0),u(y,null,$(d(n).docks,b=>g((o(),k(Z,{key:b.id,dock:b,active:c.value===b.id,onSelect:S},null,8,["dock","active"])),[[m]])),128)),t(U,{total:d(n).pagination.total,currentPage:d(n).pagination.current_page,lastPage:d(n).pagination.last_page,onChange:j},null,8,["total","currentPage","lastPage"]),i[1]||(i[1]=e("div",{class:"h-24 w-full"},null,-1))])])],2),f.value?(o(),u("div",fe,[e("div",me,[i[3]||(i[3]=e("div",{class:"flex px-1 py-4 items-center border-b card-border justify-between"},[e("h2",{class:"text-lg p-2 font-semibold text-dark"},"Hujjat")],-1)),e("div",ve,[t(se,{dockfile:a.value,class:"p-2"},null,8,["dockfile"]),i[2]||(i[2]=e("div",{class:"h-24 w-full"},null,-1))])])])):w("",!0)])])}}};export{xe as default};
