import"./dayjs.min-DN31ES9y.js";import{H as w,_ as s,a as $,b as j,u as z,U as S,S as q}from"./dockStore-DStlD6rO.js";import{r as C,e as r,o,f as e,t as u,h as I,i as t,j as f,g as d,v as D,c as v,s as H,F as x,z as p,b as _,m as T,y as g,L as V,x as B}from"./index-DCLUjSd_.js";import{_ as F}from"./UPagination-D8LLbMNM.js";import"./eye-9JzsAhmB.js";import"./chevron-right-DAGNtmL3.js";const P={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-6"},N={class:"flex-1 min-w-0"},U={class:"text-xl font-semibold text-zinc-800 dark:text-white/90"},L={class:"flex flex-col gap-1 font-medium text-md"},M={class:"flex-1 min-w-0 truncate"},A={class:"flex gap-1"},K={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},O={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},E={class:"flex-shrink-0 mt-2 md:mt-0"},Q="task card-dark border-b px-2 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-600/50",Y={__name:"DockListItem",props:{dock:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(l){return(m,a)=>{const i=C("UTooltip");return o(),r("div",{onClick:a[0]||(a[0]=h=>m.$emit("select",l.dock)),class:D([[Q,l.active?"bg-blue-100":""],"task px-2 py-2 cursor-pointer hover:bg-blue-200 dark:hover:bg-zinc-600/50"])},[e("div",P,[e("div",N,[e("h4",U,"SSV-"+u(l.dock.id)+"/05",1),e("div",L,[e("span",M,[a[1]||(a[1]=e("span",{class:"font-semibold whitespace-nowrap"},"Mazmun:",-1)),I(" "+u(l.dock.short_content?.slice(0,60))+u((l.dock.short_content?.length??0)>50?"...":""),1)])]),e("div",A,[t(i,{text:"Ijrochi",position:"bottom"},{default:f(()=>[e("span",K,u(l.dock.executor),1)]),_:1}),t(i,{text:"Kirish raqami",position:"bottom"},{default:f(()=>[e("span",O,u(l.dock.incoming_number),1)]),_:1})])]),e("div",E,[t(i,{text:"Ijro holatida",position:"top"},{default:f(()=>[t(d(w),{class:"w-5 h-5 text-blue-500"})]),_:1})])])],2)}}},G={key:0},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},R={key:0},W={class:"grid grid-cols-2 gap-1"},X={__name:"DockShowItem",props:{dockfile:{type:Object,default:null}},setup(l){return(m,a)=>l.dockfile?(o(),r("div",G,[e("div",J,[t(s,{label:"Kelib tushgan raqam",value:l.dockfile.incoming_number},null,8,["value"]),t(s,{label:"Chiqish raqami",value:l.dockfile.outgoing_number},null,8,["value"]),t(s,{label:"Hujjat nomi",value:l.dockfile.document_name,class:"md:col-span-2"},null,8,["value"]),t(s,{label:"Ijrochi",value:l.dockfile.executor},null,8,["value"]),t(s,{label:"Telefon raqam",value:l.dockfile.phone_number},null,8,["value"]),t(s,{label:"Holati",value:l.dockfile.status_id},null,8,["value"]),t(s,{label:"Qisqa mazmun",value:l.dockfile.short_content,class:"md:col-span-2"},null,8,["value"]),t(s,{label:"Izoh",value:l.dockfile.description,class:"md:col-span-2"},null,8,["value"]),t(s,{label:"Tashkilot",value:l.dockfile.organization_name_oz},null,8,["value"]),t(s,{label:"Hujjat turi",value:l.dockfile.doc_type_name_oz},null,8,["value"]),t(s,{label:"Yetkazib berish usuli",value:l.dockfile.delivery_methods_name_oz},null,8,["value"]),t(s,{label:"Masala turi",value:l.dockfile.issue_type_name_oz},null,8,["value"])]),l.dockfile.files?.length?(o(),r("div",R,[a[0]||(a[0]=e("h3",{class:"font-semibold mb-2"},"Fayllar:",-1)),e("div",W,[(o(!0),r(x,null,p(l.dockfile.files,i=>(o(),v($,{key:i.id,file:i},null,8,["file"]))),128))])])):H("",!0)])):(o(),v(j,{key:1}))}},Z={class:"mx-auto"},ee={class:"w-full"},le={class:"card-dark flex items-center w-full h-full rounded justify-between pr-2"},te={class:"grid grid-cols-1 lg:grid-cols-12"},ae={class:"lg:col-span-4 2xl:col-span-4"},se={class:"card-dark border"},oe={class:"flex px-1 py-2 items-center border-b justify-between"},ie={class:"h-[calc(100vh-8rem)] overflow-y-auto"},ne={class:"space-y-2 lg:col-span-8 2xl:col-span-8 pb-10"},ce={class:"card-dark border"},de={class:"h-[calc(100vh-8rem)] overflow-y-auto"},be={__name:"InexecutionViews",setup(l){const m=c=>a.fetchAll(c),a=z(),i=_(null),h=_(null);T(async()=>{await a.fetchAll()});const y=c=>{h.value=c.id,i.value=c,console.log(c.id)};return(c,n)=>{const k=B("wave");return o(),r("div",Z,[e("div",null,[e("div",ee,[e("div",le,[t(S)])]),e("div",te,[e("div",ae,[e("div",se,[e("div",oe,[n[0]||(n[0]=e("h2",{class:"text-lg font-semibold text-dark"},"Topshiriqlar",-1)),e("div",null,[g((o(),v(V,{variant:"hover"},{default:f(()=>[t(d(q),{"stroke-width":1,class:"w-7 h-7"})]),_:1})),[[k]])])]),e("div",ie,[(o(!0),r(x,null,p(d(a).docks,b=>g((o(),v(Y,{key:b.id,dock:b,active:h.value===b.id,onSelect:y},null,8,["dock","active"])),[[k]])),128)),t(F,{total:d(a).pagination.total,currentPage:d(a).pagination.current_page,lastPage:d(a).pagination.last_page,onChange:m},null,8,["total","currentPage","lastPage"]),n[1]||(n[1]=e("div",{class:"h-24 w-full"},null,-1))])])]),e("div",ne,[e("div",ce,[n[3]||(n[3]=e("h2",{class:"text-lg border-b font-semibold text-dark p-2 py-4"},"Hujjat",-1)),e("div",de,[t(X,{class:"p-2",dockfile:i.value},null,8,["dockfile"]),n[2]||(n[2]=e("div",{class:"h-24 w-full"},null,-1))])])])])])])}}};export{be as default};
