import{d as z,H as w,_ as l,a as $,u as j,b as B}from"./InfoItem-gRvsKbQJ.js";import{r as D,d as c,o as i,e,t as d,h as s,i as u,l as q,f as p,v as H,s as x,F as h,z as k,c as g,b as v,m as I,g as S,x as C,y as V}from"./index-C_KRwJd6.js";import"./UModal-BMmYuYLD.js";import"./eye-CjstG9HE.js";const M={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-6"},T={class:"flex-1 min-w-0"},Y={class:"font-bold text-xl text-zinc-800 dark:text-white/90"},F={class:"flex flex-col gap-1 font-medium text-md"},N={class:"flex-1 min-w-0 truncate"},L={class:"text-zinc-600 dark:text-zinc-300 whitespace-nowrap"},O={class:"flex gap-1"},U={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},A={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},E={class:"flex-shrink-0 mt-2 md:mt-0"},K="task card-dark border-y px-2 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-600/50",Q={__name:"DockListItem",props:{dock:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(t){return(r,a)=>{const o=D("UTooltip");return i(),c("div",{onClick:a[0]||(a[0]=m=>r.$emit("select",t.dock)),class:H([[K,t.active?"bg-blue-100":""],"task card-dark border-y px-2 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-600/50"])},[e("div",M,[e("div",T,[e("h4",Y,"SSV-"+d(t.dock.id)+"/05",1),e("div",F,[s(o,{text:t.dock.short_content,position:"bottom"},{default:u(()=>[e("span",N,[a[1]||(a[1]=e("span",{class:"font-semibold whitespace-nowrap"},"Mazmun:",-1)),q(" "+d(t.dock.short_content?.slice(0,60))+d((t.dock.short_content?.length??0)>50?"...":""),1)])]),_:1},8,["text"]),e("span",L," Bajarish muddati: "+d(t.dock.deadline),1)]),e("div",O,[s(o,{text:"Ijrochi",position:"bottom"},{default:u(()=>[e("span",U,d(t.dock.executor),1)]),_:1}),s(o,{text:"Yaratilgan sana",position:"bottom"},{default:u(()=>[e("span",A,d(t.dock.created_at?p(z)(t.dock.created_at).format("YYYY-MM-DD HH:mm"):""),1)]),_:1})])]),e("div",E,[s(o,{text:"Ijro holatida",position:"top"},{default:u(()=>[s(p(w),{class:"w-6 h-6 text-blue-500"})]),_:1})])])],2)}}},G={key:0},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},P={key:0},R={class:"grid grid-cols-2 gap-2"},W={__name:"DockShowItem",props:{dockfile:{type:Object,default:null}},setup(t){return(r,a)=>t.dockfile?(i(),c("div",G,[e("div",J,[s(l,{label:"Kelib tushgan raqam",value:t.dockfile.incoming_number},null,8,["value"]),s(l,{label:"Chiqish raqami",value:t.dockfile.outgoing_number},null,8,["value"]),s(l,{label:"Hujjat nomi",value:t.dockfile.document_name,class:"md:col-span-2"},null,8,["value"]),s(l,{label:"Ijrochi",value:t.dockfile.executor},null,8,["value"]),s(l,{label:"Telefon raqam",value:t.dockfile.phone_number},null,8,["value"]),s(l,{label:"Holati",value:t.dockfile.status},null,8,["value"]),s(l,{label:"Qisqa mazmun",value:t.dockfile.short_content,class:"md:col-span-2"},null,8,["value"]),s(l,{label:"Izoh",value:t.dockfile.description,class:"md:col-span-2"},null,8,["value"]),s(l,{label:"Tashkilot",value:t.dockfile.organization_name_oz},null,8,["value"]),s(l,{label:"Hujjat turi",value:t.dockfile.doc_type_name_oz},null,8,["value"]),s(l,{label:"Yetkazib berish usuli",value:t.dockfile.delivery_methods_name_oz},null,8,["value"]),s(l,{label:"Masala turi",value:t.dockfile.issue_type_name_oz},null,8,["value"])]),t.dockfile.files?.length?(i(),c("div",P,[a[0]||(a[0]=e("h3",{class:"font-semibold mb-2"},"Fayllar:",-1)),e("div",R,[(i(!0),c(h,null,k(t.dockfile.files,o=>(i(),g($,{key:o.id,file:o},null,8,["file"]))),128))])])):x("",!0)])):x("",!0)}},X={class:"mx-auto max-w-(--breakpoint-2xl)"},Z={class:"space-y gap-y-2"},ee={class:"w-ful"},te={class:"card-dark flex items-center w-full h-full rounded border justify-between pr-2"},se={class:"grid grid-cols-1 lg:grid-cols-12"},le={class:"lg:col-span-4 2xl:col-span-4"},ae={class:"card-dark border"},oe={class:"h-[calc(100vh-8rem)] overflow-y-auto"},ne={class:"space-y-2 lg:col-span-8 2xl:col-span-8 pb-10"},ie={class:"card-dark border"},de={class:"h-[calc(100vh-8rem)] overflow-y-auto"},be={__name:"InexecutionViews",setup(t){const r=j(),a=v(null),o=v(null),m=v([]);I(async()=>{await r.fetchAll(),m.value=r.docks});const _=b=>{o.value=b.id,a.value=b};return(b,n)=>{const y=C("wave");return i(),c("div",X,[e("div",Z,[e("div",ee,[e("div",te,[n[0]||(n[0]=S('<div class="flex items-center"><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-blue-500"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Barchasi</span><span class="bg-orange-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">187</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Bajarilgan</span><span class="bg-green-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">154</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Bajarilmagan</span><span class="bg-red-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Bajarilmoqda</span><span class="bg-blue-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">32</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Muddatidan kech bajarilgan</span><span class="bg-amber-400 text-white text-sm px-2 py-0.5 rounded-full font-semibold">1</span></div></div>',1)),e("div",null,[s(B)])])]),e("div",se,[e("div",le,[e("div",ae,[n[2]||(n[2]=e("h2",{class:"text-lg border-b font-semibold text-dark p-2 py-4"},"Topshiriqlar",-1)),e("div",oe,[(i(!0),c(h,null,k(m.value,f=>V((i(),g(Q,{key:f.id,dock:f,active:o.value===f.id,onSelect:_},null,8,["dock","active"])),[[y]])),128)),n[1]||(n[1]=e("div",{class:"h-24 w-full"},null,-1))])])]),e("div",ne,[e("div",ie,[n[4]||(n[4]=e("h2",{class:"text-lg border-b font-semibold text-dark p-2 py-4"},"Hujjat",-1)),e("div",de,[s(W,{class:"p-2",dockfile:a.value},null,8,["dockfile"]),n[3]||(n[3]=e("div",{class:"h-24 w-full"},null,-1))])])])])])])}}};export{be as default};
