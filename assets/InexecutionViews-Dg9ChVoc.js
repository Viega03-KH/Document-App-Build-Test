import{_ as B,U}from"./UModal-C-1hrRal.js";import{H as V,_ as i,P as S,F as I,u as D}from"./dockStore-CmYkzWwa.js";import{b as k,r as z,x as q,d as p,o as d,h as t,F as _,z as $,y as H,v as j,e,t as h,i as f,l as F,f as y,_ as C,s as g,c as w,m as L,g as M}from"./index-C6LHomsq.js";import{E as N}from"./eye-BZ__-t4A.js";import"./chevron-right-CQBZ4Jvu.js";const E=["onClick"],T={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-6"},R={class:"flex-1 min-w-0"},O={class:"font-bold text-xl text-zinc-800 dark:text-white/90"},P={class:"flex flex-col gap-1 font-medium text-md"},A={class:"flex-1 min-w-0 truncate"},K={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},Q={class:"flex-shrink-0 mt-2 md:mt-0"},Y={__name:"FileList",props:{dockfiles:{type:Array,default:()=>[]}},emits:["select"],setup(a,{emit:m}){const u=k(null),r=m;function v(c){u.value=c.id,r("select",c)}return(c,x)=>{const l=z("UTooltip"),s=q("wave");return d(),p(_,null,[(d(!0),p(_,null,$(a.dockfiles,n=>H((d(),p("div",{key:n.id,onClick:o=>v(n),class:j(["task card-dark border-y px-2 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-600/50",u.value===n.id?"bg-blue-100":""])},[e("div",T,[e("div",R,[e("h4",O," SSV-"+h(n.id)+"/05 ",1),e("div",P,[t(l,{text:n.short_content,position:"bottom"},{default:f(()=>[e("span",A,[x[0]||(x[0]=e("span",{class:"font-semibold whitespace-nowrap"},"Mazmun:",-1)),F(" "+h(n.short_content.slice(0,50))+h(n.short_content.length>50?"...":""),1)])]),_:2},1032,["text"]),x[1]||(x[1]=e("span",{class:"text-zinc-600 dark:text-zinc-300 whitespace-nowrap"}," Bajarish muddati: 11 yan 2025 ",-1))]),t(l,{text:"Ijrochi",position:"bottom"},{default:f(()=>[e("span",K,h(n.executor),1)]),_:2},1024)]),e("div",Q,[t(l,{text:"Ijro holatida",position:"bottom"},{default:f(()=>[t(y(V),{class:"w-6 h-6 text-blue-500"})]),_:1})])])],10,E)),[[s]])),128)),t(B)],64)}}},G={key:0,class:"rounded card-dark border-2 shadow-md p-6"},J={class:"mb-6 flex text-lg font-semibold border-b border-zinc-200 dark:border-zinc-600 pb-2"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},X={key:0},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},ee={class:"flex items-center gap-4"},te={class:"text-dark font-semibold"},ae={class:"flex items-center gap-2"},le={__name:"FileShow",props:{dockfile:{type:Object,default:null}},setup(a){const m=k(!1),u=k(null),r=l=>l?.split(".").pop()?.toLowerCase()||"",v=l=>l?.split("/").pop()||"file",c=l=>{r(l)==="pdf"?(u.value=l,m.value=!0):alert("Bu fayl PDF emas, ko‘rish mumkin emas.")},x=async l=>{try{const s=await fetch(l);if(!s.ok)throw new Error(`Fayl yuklanmadi: ${s.status}`);const n=await s.blob(),o=v(l),b=document.createElement("a");b.href=URL.createObjectURL(n),b.download=o,document.body.appendChild(b),b.click(),b.remove(),URL.revokeObjectURL(b.href)}catch(s){console.error("Fayl yuklashda xato:",s),alert("Fayl yuklab olishda xato yuz berdi!")}};return(l,s)=>{const n=z("UButton");return d(),p(_,null,[a.dockfile?(d(),p("div",G,[e("h2",J,[s[1]||(s[1]=F(" Hujjat- ",-1)),t(i,{value:a.dockfile.incoming_number},null,8,["value"])]),e("div",W,[t(i,{label:"Kelib tushgan raqam",value:a.dockfile.incoming_number},null,8,["value"]),t(i,{label:"Chiqish raqami",value:a.dockfile.outgoing_number},null,8,["value"]),t(i,{label:"Hujjat nomi",value:a.dockfile.document_name},null,8,["value"]),t(i,{label:"Ijrochi",value:a.dockfile.executor},null,8,["value"]),t(i,{label:"Telefon raqam",value:a.dockfile.phone_number},null,8,["value"]),t(i,{label:"Holati",value:a.dockfile.status},null,8,["value"]),t(i,{label:"Qisqa mazmun",value:a.dockfile.short_content,class:"md:col-span-2"},null,8,["value"]),t(i,{label:"Izoh",value:a.dockfile.description,class:"md:col-span-2"},null,8,["value"]),t(i,{label:"Tashkilot",value:a.dockfile.organization_name_oz},null,8,["value"]),t(i,{label:"Hujjat turi",value:a.dockfile.doc_type_name_oz},null,8,["value"]),t(i,{label:"Masala turi",value:a.dockfile.issue_type_name_oz},null,8,["value"])]),a.dockfile.files?.length?(d(),p("div",X,[t(i,{class:"py-2",label:"Fayl"}),e("div",Z,[(d(!0),p(_,null,$(a.dockfile.files,o=>(d(),p("div",{key:o.id,class:"flex items-center justify-between border-2 card-dark rounded px-4 py-3 hover:bg-blue-100 dark:hover:bg-zinc-600 cursor-pointer"},[e("div",ee,[e("div",{class:j(["flex items-center justify-center text-white font-semibold px-4 py-4 rounded",{"bg-red-500":r(o.url)==="pdf","bg-blue-500":["doc","docx"].includes(r(o.url)),"bg-gray-500":!["pdf","doc","docx"].includes(r(o.url))}])},h(r(o.url).toUpperCase()),3),e("div",null,[e("p",te,h(v(o.url).slice(0,20)),1)])]),e("div",ae,[r(o.url)==="pdf"?(d(),w(n,{key:0,onClick:b=>c(o.url),class:"p-2 rounded-full hover:bg-blue-200 transition",title:"Ko‘rish"},{default:f(()=>[t(y(N),{class:"w-6 h-6 text-zinc-500"})]),_:1},8,["onClick"])):g("",!0),t(n,{onClick:b=>x(o.url),class:"p-2 rounded-full hover:bg-blue-200 transition",title:"Yuklab olish"},{default:f(()=>[t(y(I),{class:"w-6 h-6 text-zinc-500"})]),_:1},8,["onClick"])])]))),128))])])):g("",!0)])):g("",!0),t(U,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=o=>m.value=o),width:".ignore-dark w-full h-full rounded-[0px] h-screen bg-zinc-50",title:"Hujjat fayli"},{footer:f(()=>[...s[2]||(s[2]=[])]),default:f(()=>[u.value?(d(),w(S,{key:0,source:u.value},null,8,["source"])):g("",!0)]),_:1},8,["modelValue"])],64)}}},se=C(le,[["__scopeId","data-v-fe927441"]]),oe={class:"mx-auto max-w-(--breakpoint-2xl)"},ne={class:"space-y gap-y-2"},ie={class:"grid grid-cols-1 lg:grid-cols-12"},de={class:"lg:col-span-4 2xl:col-span-4 pr-2"},re={class:"rounded card-dark border-2"},ce={class:"overflow-hidden rounded"},ue={class:"custom-scrollbar h-screen overflow-y-auto"},pe={class:"space-y-2 lg:col-span-8 2xl:col-span-8"},me={__name:"InexecutionViews",setup(a){const m=D(),u=k(null);L(()=>{m.fetchAll()});const r=v=>{u.value=v};return(v,c)=>(d(),p("div",oe,[e("div",ne,[c[1]||(c[1]=M('<div class="w-ful pb-2" data-v-82332e45><div class="card-dark flex items-center w-full h-full rounded border-2 justify-between px-2" data-v-82332e45><div class="flex items-center" data-v-82332e45><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-blue-500" data-v-82332e45><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-82332e45>Barchasi</span><span class="bg-orange-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-82332e45>187</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-82332e45><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-82332e45>Bajarilgan</span><span class="bg-green-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-82332e45>154</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-82332e45><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-82332e45>Bajarilmagan</span><span class="bg-red-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-82332e45>0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-82332e45><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-82332e45>Bajarilmoqda</span><span class="bg-blue-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-82332e45>32</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-82332e45><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-82332e45>Muddatidan kech bajarilgan</span><span class="bg-amber-400 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-82332e45>1</span></div></div></div></div>',1)),e("div",ie,[e("div",de,[e("div",re,[c[0]||(c[0]=e("h2",{class:"text-lg font-semibold text-dark p-2 py-4"},"Topshiriqlar",-1)),e("div",ce,[e("div",ue,[t(Y,{dockfiles:y(m).docks,onSelect:r},null,8,["dockfiles"])])])])]),e("div",pe,[t(se,{dockfile:u.value},null,8,["dockfile"])])])])]))}},ge=C(me,[["__scopeId","data-v-82332e45"]]);export{ge as default};
