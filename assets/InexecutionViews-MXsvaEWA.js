import{d as z}from"./dayjs.min-DZBr1Buc.js";import{H as S,_ as s,a as C,b as D,u as q,U as I,S as M,L as B}from"./UStatus-BqHHNLfN.js";import{r as H,e as r,o as n,f as e,t as v,h as L,i as t,j as h,g as c,v as _,c as b,s as x,F as p,z as y,L as P,b as k,D as T,m as V,M as g}from"./index-CJXrJkbj.js";import{_ as Y}from"./UPagination-B2WzX-PT.js";import"./chevron-right-2wuyl-Gm.js";const F={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-6"},N={class:"flex-1 min-w-0"},U={class:"text-xl font-semibold text-zinc-800 dark:text-white/90"},A={class:"flex flex-col gap-1 font-medium text-md"},O={class:"flex-1 min-w-0 truncate"},E={class:"flex gap-1"},K={class:"card-dark mt-2 inline-flex rounded-full border px-2 py-0.5 text-md font-semibold truncate max-w-full"},Q={class:"card-dark mt-2 inline-flex rounded-full border px-2 py-0.5 text-md font-semibold truncate max-w-full"},R={class:"flex-shrink-0 mt-2 md:mt-0"},G="task card-dark border-b px-3 py-2 cursor-pointer hover:bg-blue-100 dark:hover:bg-zinc-600/50",J={__name:"DockListItem",props:{dock:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(l){return(i,a)=>{const d=H("UTooltip");return n(),r("div",{onClick:a[0]||(a[0]=f=>i.$emit("select",l.dock)),class:_([G,l.active?"bg-blue-100":""])},[e("div",F,[e("div",N,[e("h4",U,"SSV-"+v(l.dock.id)+"/05",1),e("div",A,[e("span",O,[a[1]||(a[1]=e("span",{class:"font-semibold whitespace-nowrap"},"Mazmun:",-1)),L(" "+v(l.dock.short_content?.slice(0,200))+v((l.dock.short_content?.length??0)>50?"...":""),1)])]),e("div",E,[t(d,{text:"Ijrochi",position:"bottom"},{default:h(()=>[e("span",K,v(l.dock.executor),1)]),_:1}),t(d,{text:"Yaratilgan sana",position:"bottom"},{default:h(()=>[e("span",Q,v(l.dock.doc_date?c(z)(l.dock.doc_date).format("YYYY-MM-DD"):""),1)]),_:1})])]),e("div",R,[t(d,{text:"Ijro holatida",position:"top"},{default:h(()=>[t(c(S),{class:"w-5 h-5 text-blue-500"})]),_:1})])])],2)}}},W={key:0},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},Z={key:0},ee={class:"gap-2 grid grid-cols-2"},le={__name:"DockShowItem",props:{dockfile:{type:Object,default:null}},setup(l){return(i,a)=>l.dockfile?(n(),r("div",W,[e("div",X,[t(s,{label:"Kelib tushgan raqam",value:l.dockfile.incoming_number},null,8,["value"]),t(s,{label:"Chiqish raqami",value:l.dockfile.outgoing_number},null,8,["value"]),t(s,{label:"Hujjat nomi",value:l.dockfile.document_name,class:"md:col-span-2"},null,8,["value"]),t(s,{label:"Ijrochi",value:l.dockfile.executor},null,8,["value"]),t(s,{label:"Telefon raqam",value:l.dockfile.phone_number},null,8,["value"]),t(s,{label:"Holati",value:l.dockfile.status_id},null,8,["value"]),t(s,{label:"Qisqa mazmun",value:l.dockfile.short_content,class:"md:col-span-2"},null,8,["value"]),t(s,{label:"Tashkilot",value:l.dockfile.organization_name_oz},null,8,["value"]),t(s,{label:"Hujjat turi",value:l.dockfile.doc_type_name_oz},null,8,["value"]),t(s,{label:"Yetkazib berish usuli",value:l.dockfile.delivery_methods_name_oz},null,8,["value"]),t(s,{label:"Masala turi",value:l.dockfile.issue_type_name_oz},null,8,["value"]),t(s,{label:"Bajarish muddate",value:l.dockfile.doc_date},null,8,["value"])]),l.dockfile.files?.length?(n(),r("div",Z,[a[0]||(a[0]=e("h3",{class:"font-semibold mb-2"},"Fayllar:",-1)),e("div",ee,[(n(!0),r(p,null,y(l.dockfile.files,d=>(n(),b(C,{key:d.id,file:d},null,8,["file"]))),128))])])):x("",!0)])):(n(),b(D,{key:1}))}},te={class:"mx-auto"},ae={class:"w-full card-dark flex items-center justify-between rounded px-2"},se={class:"grid grid-cols-1 lg:grid-cols-12"},oe={class:"card-dark border"},ie={class:"flex px-1 py-4 items-center border-b card-border justify-between"},ne={class:"flex gap-1"},de={class:"h-[calc(100vh-8rem)] overflow-y-auto"},ce={key:0,class:"lg:col-span-8 2xl:col-span-8 pb-10 space-y-2"},ue={class:"card-dark border"},re={class:"h-[calc(100vh-8rem)] overflow-y-auto"},be={__name:"InexecutionViews",setup(l){const i=q();P();const a=k(null),d=k(null),f=k(!0),w=u=>i.fetchAll(u);function $(){f.value=!f.value}function j(u){d.value=u.id,a.value=u}return T(()=>i.docks,u=>{if(a.value){const o=u.find(m=>m.id===a.value.id);o&&(a.value=o)}},{deep:!0}),V(async()=>{await i.fetchAll()}),(u,o)=>(n(),r("div",te,[e("div",ae,[t(I)]),e("div",se,[e("div",{class:_(f.value?"lg:col-span-4 2xl:col-span-4":"lg:col-span-12 2xl:col-span-12")},[e("div",oe,[e("div",ie,[o[0]||(o[0]=e("h2",{class:"text-lg p-2 font-semibold text-dark"},"Topshiriqlar",-1)),e("div",ne,[t(g,{variant:"hover"},{default:h(()=>[t(c(M),{"stroke-width":1,class:"w-6 h-6"})]),_:1}),t(g,{variant:"hover",onClick:$},{default:h(()=>[t(c(B),{"stroke-width":1,class:"w-6 h-6"})]),_:1})])]),e("div",de,[(n(!0),r(p,null,y(c(i).docks,m=>(n(),b(J,{key:m.id,dock:m,active:d.value===m.id,onSelect:j},null,8,["dock","active"]))),128)),t(Y,{total:c(i).pagination.total,currentPage:c(i).pagination.current_page,lastPage:c(i).pagination.last_page,onChange:w},null,8,["total","currentPage","lastPage"]),o[1]||(o[1]=e("div",{class:"h-24 w-full"},null,-1))])])],2),f.value?(n(),r("div",ce,[e("div",ue,[o[3]||(o[3]=e("div",{class:"flex px-1 py-4 items-center border-b card-border justify-between"},[e("h2",{class:"text-lg p-2 font-semibold text-dark"},"Hujjat")],-1)),e("div",re,[t(le,{dockfile:a.value,class:"p-2"},null,8,["dockfile"]),o[2]||(o[2]=e("div",{class:"h-24 w-full"},null,-1))])])])):x("",!0)])]))}};export{be as default};
