import{d as k}from"./dayjs.min-BqfIiCKI.js";import{H as M,C as q}from"./history-DSpVPkuW.js";import{J as B,a as c,o as i,b as e,v as o,g as s,f as n,q as Y,p as v,F as b,x as j,c as _,G as z,d as V,l as H,H as U,t as A,h as g,r as h,s as I}from"./index-CSjzk14l.js";import{_ as d,u as P,S as $}from"./MultiColumnUserSelect.vue_vue_type_style_index_0_scoped_1fefd64e_lang-BCsQr1Kj.js";import{_ as N,u as Q}from"./UFileCard-B-rxju5X.js";import{_ as K}from"./UPagination-Bh_ERdJu.js";import{T as L}from"./trash-2-wLns3X12.js";import"./chevron-right-fchhoz2G.js";const O={class:"flex flex-row"},E={class:"flex-1 min-w-0"},G={class:"flex flex-row items-center justify-between pb-2"},J={class:"text-sm font-extrabold text-black"},R={class:"text-sm font-medium text-[#697696]"},W={class:"flex flex-col gap-y-2"},X={class:"flex flex-row items-center justify-between"},Z={class:"flex-1 min-w-0 truncate text-sm font-bold text-black"},ee={class:"flex-1 min-w-0 text-sm font-medium text-[#697696] line-clamp-2"},te={class:"flex-1 min-w-0 text-sm font-medium text-[#697696] line-clamp-2"},se={class:"inline-block card-dark border text-[14px] font-semibold text-black rounded-[10px] px-3 py-2 w-fit"},ae="task card-dark border-b px-3 py-4 cursor-pointer hover:bg-[#4076FF0D]",le={__name:"TaskListItem",props:{task:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(t){const u=t,r=B(()=>k(u.task.doc_date).format("DD MMM YYYY"));return(a,p)=>(i(),c("div",{onClick:p[0]||(p[0]=y=>a.$emit("select",t.task)),class:Y([ae,t.active?"bg-[#4076FF0D]":""])},[e("div",O,[e("div",E,[e("div",G,[e("h4",J,o(t.task.incoming_document.incoming_number),1),e("h4",R,o(r.value),1)]),e("div",W,[e("div",X,[e("span",Z,o(t.task.task_type_name),1),s(n(M),{class:"w-5 h-5 text-blue-500"})]),e("span",ee,o(t.task.description),1),e("span",te," Bajarish mudati: "+o(n(k)(t.task.deadline_end).format("DD MMMM YYYY")),1),e("div",se,o(t.task.user?.profile?.firstname.charAt(0))+"."+o(t.task.user?.profile?.lastname),1)])])])],2))}},ne={key:0},oe={class:"grid grid-cols-2 gap-4 pb-4 p-[24px]"},ie={class:"wofull flex border-t justify-between px-[24px] hover:bg-[#F4F6FC]"},re={class:"col-span-2 py-4 cursor-pointer rounded flex items-center gap-3 transition"},de={class:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-500 text-white font-bold text-sm uppercase"},ce={class:"flex flex-col text-sm"},ue={class:"text-dark text-lg font-bold"},me={class:"text-dark text-lg"},pe={class:"flex flex-row gap-4 items-center"},fe={key:1,class:"p-[24px]"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},xe={key:0},ve={class:"grid grid-cols-2 gap-2"},ge={__name:"TaskShowItem",props:{task:{type:Object,default:null}},setup(t){return(u,r)=>(i(),c(b,null,[t.task?(i(),c("div",ne,[e("div",oe,[s(d,{label:"Bajarish muddati",value:t.task.deadline_end},null,8,["value"]),s(d,{label:"Topshiriq",value:t.task.task_type_name},null,8,["value"]),s(d,{label:"Qisqa mazmun",value:t.task.description,class:"col-span-2"},null,8,["value"])]),e("div",ie,[e("div",re,[e("div",de,o(t.task.user.profile.lastname[0])+o(t.task.user.profile.firstname[0]),1),e("div",ce,[e("span",ue,o(t.task.user.profile.lastname)+" "+o(t.task.user.profile.firstname)+" "+o(t.task.user.profile.middlename),1),e("span",me,o(t.task.department_name),1)])]),e("div",pe,[e("h1",null,o(n(k)(t.task.deadline_end).format("DD MMMM YYYY")),1),s(n(q),{class:"text-blue-500"})])]),r[0]||(r[0]=e("div",{class:"bg-[#F4F6FC] w-full h-14"},null,-1))])):v("",!0),t.task.incoming_document?(i(),c("div",fe,[e("div",be,[s(d,{label:"Kelib tushgan raqam",value:t.task.incoming_document.incoming_number},null,8,["value"]),s(d,{label:"Chiqish raqami",value:t.task.incoming_document.outgoing_number},null,8,["value"]),s(d,{label:"Hujjat nomi",value:t.task.incoming_document.document_name,class:"md:col-span-2"},null,8,["value"]),s(d,{label:"Telefon raqam",value:t.task.incoming_document.phone_number},null,8,["value"]),s(d,{label:"Tashkilot",value:t.task.incoming_document.organization_name_oz},null,8,["value"]),s(d,{label:"Hujjat turi",value:t.task.incoming_document.doc_type_name_oz},null,8,["value"]),s(d,{label:"Yetkazib berish usuli",value:t.task.incoming_document.delivery_methods_name_oz},null,8,["value"]),s(d,{label:"Masala turi",value:t.task.incoming_document.issue_type_name_oz},null,8,["value"])]),t.task.incoming_document.files?.length?(i(),c("div",xe,[r[1]||(r[1]=e("h3",{class:"font-semibold mb-2"},"Fayllar:",-1)),e("div",ve,[(i(!0),c(b,null,j(t.task.incoming_document.files,a=>(i(),_(N,{key:a.id,file:a},null,8,["file"]))),128))])])):v("",!0)])):v("",!0)],64))}},he={class:"mx-auto"},ke={class:"grid grid-cols-1 lg:grid-cols-12"},_e={class:"col-span-12 md:col-span-5 2xl:col-span-3"},ye={class:"card-dark border-b-2 border-x shadow-sm"},we={class:"flex px-1 py-3 items-center border-b card-border justify-between"},$e={class:"flex items-center"},je={class:"flex gap-1"},Fe={class:"h-[calc(100vh-8rem)] overflow-y-auto"},Se={class:"col-span-12 md:col-span-7 2xl:col-span-9 space-y-2 px-10 h-[calc(100vh-4rem)] overflow-y-auto"},Te={class:"card-dark rounded-b border-b border-x"},Ce={key:0},De={key:1,class:"flex flex-col"},Me={class:"grid grid-cols-3 p-6 gap-4"},qe={class:"flex bg-[#F4F6FC] items-center gap-4 justify-end p-6"},Pe={__name:"InexecutionuserViews",setup(t){z();const u=Q(),r=V(null),a=P(),p=f=>a.fetchAll(f),y=f=>{a.setSelectedTask(f)};function F(){a.setSelectedTask(null)}function S(){r.value=null,a.status_id=null,a.fetchAll()}function T(){a.status_id=r.value,a.fetchAll()}return H(()=>{a.fetchAll(),u.fetchAll()}),(f,l)=>{const x=h("UButton"),C=h("USelect"),w=h("UInput"),D=I("wave");return i(),c(b,null,[l[7]||(l[7]=U('<div class="flex items-center px-2 card-dark border-b"><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-2 border-b-blue-500"><span class="text-gray-700 dark:text-gray-300 font-semibold">Barchasi</span><span class="bg-orange-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilgan</span><span class="bg-green-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilmagan</span><span class="bg-red-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilmoqda</span><span class="bg-blue-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Muddatidan kech bajarilgan</span><span class="bg-amber-400 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div></div>',1)),e("div",he,[e("div",ke,[e("div",_e,[e("div",ye,[e("div",we,[e("div",$e,[A((i(),_(x,{onClick:F,variant:"hover"},{default:g(()=>[s(n($),{"stroke-width":"2",class:"w-6 h-6"})]),_:1})),[[D]]),l[1]||(l[1]=e("h2",{class:"text-[14px] p-2 font-bold uppercase text-[#282F3D]"}," Topshiriqlar ",-1))]),e("div",je,[s(K,{total:n(a).pagination.total,currentPage:n(a).pagination.current_page,lastPage:n(a).pagination.last_page,loading:n(a).loading,onChange:p},null,8,["total","currentPage","lastPage","loading"])])]),e("div",Fe,[(i(!0),c(b,null,j(n(a).tasks,m=>(i(),_(le,{key:m.id,task:m,active:n(a).selectedTask?.id===m.id,onSelect:y},null,8,["task","active"]))),128)),l[2]||(l[2]=e("div",{class:"h-24 w-full"},null,-1))])])]),e("div",Se,[e("div",Te,[n(a).selectedTask?(i(),c("div",Ce,[l[3]||(l[3]=e("div",{class:"flex px-1 py-2 items-center border-b card-border justify-between"},[e("h2",{class:"text-[14px] p-3 font-bold uppercase text-[#282F3D]"},"Biriktirlgan topshiriq")],-1)),s(ge,{task:n(a).selectedTask},null,8,["task"])])):(i(),c("div",De,[e("div",null,[l[4]||(l[4]=e("div",{class:"flex p-3 items-center card-border border-b justify-between"},[e("h2",{class:"text-[14px] py-2 font-bold uppercase text-[#282F3D]"},"Qidirish")],-1)),e("div",Me,[s(C,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=m=>r.value=m),options:n(u).status,"option-label":"name_oz","option-value":"id",placeholder:"Hujjat holati"},null,8,["modelValue","options"]),s(w,{placeholder:"Hujjat raqami (qidiruv mavjud emas)",readonly:""}),s(w,{placeholder:"Kalit so'z (qidiruv mavjud emas)",readonly:""})])]),e("div",qe,[s(x,{class:"flex items-center",onClick:S},{default:g(()=>[s(n(L),{"stroke-width":"2.5",class:"w-5 h-5"}),l[5]||(l[5]=e("span",{class:"px-2"},"Tozalash",-1))]),_:1}),s(x,{variant:"primary",class:"flex items-center",onClick:T},{default:g(()=>[s(n($),{"stroke-width":"2.5",class:"w-5 h-5"}),l[6]||(l[6]=e("span",{class:"px-2"},"Qidirish",-1))]),_:1})])]))])])])])],64)}}};export{Pe as default};
