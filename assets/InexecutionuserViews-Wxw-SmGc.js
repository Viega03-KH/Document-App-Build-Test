import{d as h}from"./dayjs.min-BKV6yWyi.js";import{H as C,C as D}from"./history-CcjlXVOq.js";import{J as B,a as d,o as i,b as e,v as n,g as o,f as l,q as M,p as Y,G as q,d as V,l as U,H as A,t as z,c as _,h as x,F as y,x as H,r as b,s as I}from"./index-CDbZ6Fa9.js";import{_ as v,u as P,S as w}from"./MultiColumnUserSelect.vue_vue_type_style_index_0_scoped_1fefd64e_lang-gPo00AIL.js";import{_ as N}from"./UPagination-bpKT0cD6.js";import{u as Q}from"./dockstatusStore-BMsRw9jQ.js";import{T as L}from"./trash-2-CxDXh9iA.js";import"./chevron-right-BRVjSxrT.js";const O={class:"flex flex-row"},E={class:"flex-1 min-w-0"},G={class:"flex flex-row items-center justify-between pb-2"},J={class:"text-sm font-extrabold text-black"},K={class:"text-sm font-medium text-[#697696]"},R={class:"flex flex-col gap-y-2"},W={class:"flex flex-row items-center justify-between"},X={class:"flex-1 min-w-0 truncate text-sm font-bold text-black"},Z={class:"flex-1 min-w-0 text-sm font-medium text-[#697696] line-clamp-2"},ee={class:"flex-1 min-w-0 text-sm font-medium text-[#697696] line-clamp-2"},te={class:"inline-block card-dark border text-[14px] font-semibold text-black rounded-[10px] px-3 py-2 w-fit"},se="task card-dark border-b px-3 py-4 cursor-pointer hover:bg-[#4076FF0D]",ae={__name:"TaskListItem",props:{task:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(t){const c=t,r=B(()=>h(c.task.doc_date).format("DD MMM YYYY"));return(s,p)=>(i(),d("div",{onClick:p[0]||(p[0]=g=>s.$emit("select",t.task)),class:M([se,t.active?"bg-[#4076FF0D]":""])},[e("div",O,[e("div",E,[e("div",G,[e("h4",J,n(t.task.incoming_document.incoming_number),1),e("h4",K,n(r.value),1)]),e("div",R,[e("div",W,[e("span",X,n(t.task.task_type_name),1),o(l(C),{class:"w-5 h-5 text-blue-500"})]),e("span",Z,n(t.task.description),1),e("span",ee," Bajarish mudati: "+n(l(h)(t.task.deadline_end).format("DD MMMM YYYY")),1),e("div",te,n(t.task.user?.profile?.firstname.charAt(0))+"."+n(t.task.user?.profile?.lastname),1)])])])],2))}},le={key:0},oe={class:"grid grid-cols-2 gap-4 pb-4 p-[24px]"},ne={class:"wofull flex border-t justify-between px-[24px] hover:bg-[#F4F6FC]"},re={class:"col-span-2 py-4 cursor-pointer rounded flex items-center gap-3 transition"},ie={class:"flex items-center justify-center w-12 h-12 rounded-full bg-blue-500 text-white font-bold text-sm uppercase"},de={class:"flex flex-col text-sm"},ce={class:"text-dark text-lg font-bold"},ue={class:"text-dark text-lg"},pe={class:"flex flex-row gap-4 items-center"},me={__name:"TaskShowItem",props:{task:{type:Object,default:null}},setup(t){return(c,r)=>t.task?(i(),d("div",le,[e("div",oe,[o(v,{label:"Bajarish muddati",value:t.task.deadline_end},null,8,["value"]),o(v,{label:"Topshiriq",value:t.task.task_type_name},null,8,["value"]),o(v,{label:"Qisqa mazmun",value:t.task.description,class:"col-span-2"},null,8,["value"])]),e("div",ne,[e("div",re,[e("div",ie,n(t.task.user.profile.lastname[0])+n(t.task.user.profile.firstname[0]),1),e("div",de,[e("span",ce,n(t.task.user.profile.lastname)+" "+n(t.task.user.profile.firstname)+" "+n(t.task.user.profile.middlename),1),e("span",ue,n(t.task.department_name),1)])]),e("div",pe,[e("h1",null,n(l(h)(t.task.deadline_end).format("DD MMMM YYYY")),1),o(l(D),{class:"text-blue-500"})])]),r[0]||(r[0]=e("div",{class:"bg-[#F4F6FC] w-full h-14"},null,-1))])):Y("",!0)}},fe={class:"mx-auto"},xe={class:"grid grid-cols-1 lg:grid-cols-12"},be={class:"col-span-12 md:col-span-5 2xl:col-span-3"},ve={class:"card-dark border-b-2 border-x shadow-sm"},he={class:"flex px-1 py-3 items-center border-b card-border justify-between"},ge={class:"flex items-center"},ke={class:"flex gap-1"},_e={class:"h-[calc(100vh-8rem)] overflow-y-auto"},ye={class:"col-span-12 md:col-span-7 2xl:col-span-9 space-y-2 px-10 h-[calc(100vh-4rem)] overflow-y-auto"},we={class:"card-dark rounded-b border-b border-x"},$e={key:0},je={key:1,class:"flex flex-col"},Fe={class:"grid grid-cols-3 p-6 gap-4"},Se={class:"flex bg-[#F4F6FC] items-center gap-4 justify-end p-6"},Ue={__name:"InexecutionuserViews",setup(t){q();const c=Q(),r=V(null),s=P(),p=m=>s.fetchAll(m),g=m=>{s.setSelectedTask(m)};function $(){s.setSelectedTask(null)}function j(){r.value=null,s.status_id=null,s.fetchAll()}function F(){s.status_id=r.value,s.fetchAll()}return U(()=>{s.fetchAll(),c.fetchAll()}),(m,a)=>{const f=b("UButton"),S=b("USelect"),k=b("UInput"),T=I("wave");return i(),d(y,null,[a[7]||(a[7]=A('<div class="flex items-center px-2 card-dark border-b"><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-2 border-b-blue-500"><span class="text-gray-700 dark:text-gray-300 font-semibold">Barchasi</span><span class="bg-orange-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilgan</span><span class="bg-green-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilmagan</span><span class="bg-red-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Bajarilmoqda</span><span class="bg-blue-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-gray-100 border-b-4 border-b-transparent"><span class="text-gray-700 dark:text-gray-300 font-semibold">Muddatidan kech bajarilgan</span><span class="bg-amber-400 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div></div>',1)),e("div",fe,[e("div",xe,[e("div",be,[e("div",ve,[e("div",he,[e("div",ge,[z((i(),_(f,{onClick:$,variant:"hover"},{default:x(()=>[o(l(w),{"stroke-width":"2",class:"w-6 h-6"})]),_:1})),[[T]]),a[1]||(a[1]=e("h2",{class:"text-[14px] p-2 font-bold uppercase text-[#282F3D]"}," Topshiriqlar ",-1))]),e("div",ke,[o(N,{total:l(s).pagination.total,currentPage:l(s).pagination.current_page,lastPage:l(s).pagination.last_page,loading:l(s).loading,onChange:p},null,8,["total","currentPage","lastPage","loading"])])]),e("div",_e,[(i(!0),d(y,null,H(l(s).tasks,u=>(i(),_(ae,{key:u.id,task:u,active:l(s).selectedTask?.id===u.id,onSelect:g},null,8,["task","active"]))),128)),a[2]||(a[2]=e("div",{class:"h-24 w-full"},null,-1))])])]),e("div",ye,[e("div",we,[l(s).selectedTask?(i(),d("div",$e,[a[3]||(a[3]=e("div",{class:"flex px-1 py-2 items-center border-b card-border justify-between"},[e("h2",{class:"text-[14px] p-3 font-bold uppercase text-[#282F3D]"},"Biriktirlgan topshiriq")],-1)),o(me,{task:l(s).selectedTask},null,8,["task"])])):(i(),d("div",je,[e("div",null,[a[4]||(a[4]=e("div",{class:"flex p-3 items-center card-border border-b justify-between"},[e("h2",{class:"text-[14px] py-2 font-bold uppercase text-[#282F3D]"},"Qidirish")],-1)),e("div",Fe,[o(S,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=u=>r.value=u),options:l(c).status,"option-label":"name_oz","option-value":"id",placeholder:"Hujjat holati"},null,8,["modelValue","options"]),o(k,{placeholder:"Hujjat raqami (qidiruv mavjud emas)",readonly:""}),o(k,{placeholder:"Kalit so'z (qidiruv mavjud emas)",readonly:""})])]),e("div",Se,[o(f,{class:"flex items-center",onClick:j},{default:x(()=>[o(l(L),{"stroke-width":"2.5",class:"w-5 h-5"}),a[5]||(a[5]=e("span",{class:"px-2"},"Tozalash",-1))]),_:1}),o(f,{variant:"primary",class:"flex items-center",onClick:F},{default:x(()=>[o(l(w),{"stroke-width":"2.5",class:"w-5 h-5"}),a[6]||(a[6]=e("span",{class:"px-2"},"Qidirish",-1))]),_:1})])]))])])])])],64)}}};export{Ue as default};
