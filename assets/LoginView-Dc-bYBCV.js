import{a as o,u as h,b as u,d as s,e as l,r as d,f as m,w as y,g as b,F as V,h as z,o as p}from"./index-BV_ShH1x.js";import{L as U}from"./logo-UcKoqoCa.js";const L={class:"min-h-screen flex flex-col items-center justify-center bg-gray-100 dark:bg-zinc-900"},E={class:"flex flex-col items-center justify-center px-4 py-8"},B=["src"],j={class:"w-full max-w-md card-dark shadow-lg rounded p-6"},A={class:"flex flex-col gap-4"},T={key:0},C={key:1},I={__name:"LoginView",setup(N){const c=o(""),g=o("info"),n=o(0),t=h(),f=z(),e=o({email:"",password:""}),r=o({email:"",password:""}),_=()=>{g.value="error",c.value="Login yoki parol xato! Qayta urinib koâ€˜ring.",n.value++},w=async()=>{r.value.email=e.value.email?"":"Email manzilingizni kiriting",r.value.password=e.value.password?"":"Parolingizni kiriting",!(!e.value.email||!e.value.password)&&(await t.loginUser(e.value.email,e.value.password),t.token&&f.push("/"),t.error&&_(),n.value++)};return(P,a)=>{const x=d("UAlert"),v=d("UInput"),k=d("UButton");return p(),u(V,null,[s(x,{message:c.value,type:g.value,trigger:n.value},null,8,["message","type","trigger"]),l("div",L,[l("div",E,[l("img",{class:"w-20 h-20 mb-2",src:m(U),alt:"Logo"},null,8,B),a[2]||(a[2]=l("span",{class:"text-lg text-dark font-bold text-center"}," Elektron hujjat tizimi ",-1))]),l("div",j,[l("div",A,[s(v,{label:"Email",modelValue:e.value.email,"onUpdate:modelValue":a[0]||(a[0]=i=>e.value.email=i),placeholder:"Email manzilingizni kiriting",error:r.value.email},null,8,["modelValue","error"]),s(v,{label:"Parol",type:"password",modelValue:e.value.password,"onUpdate:modelValue":a[1]||(a[1]=i=>e.value.password=i),placeholder:"Parolingizni kiriting",error:r.value.password},null,8,["modelValue","error"]),s(k,{class:"w-full",variant:"primary",type:"button",onClick:w,loading:m(t).loading},{default:y(()=>[m(t).loading?(p(),u("span",T,[...a[3]||(a[3]=[l("div",{role:"status",class:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-[spin_0.5s_linear_infinite]","aria-label":"Loading"},null,-1)])])):(p(),u("span",C,"Kirish"))]),_:1},8,["loading"])]),a[4]||(a[4]=l("div",{class:"text-center mt-6 text-gray-500 italic text-sm"},[b(" Texnik qo'llab quvvatlash markazi: "),l("a",{href:"tel:+99888-380-29-03",class:"text-blue-500 hover:underline"}," +99888-380-29-03 ")],-1))])])],64)}}};export{I as default};
