import{u as v,_ as u}from"./OrganizationForm-CyVKB97Q.js";import{u as w,G as _,r as b,a as p,o as x,b as t,g as s,h as n,f as o,j as g,l as C,H as z,F as B,x as S,v as h}from"./index-m9snDiDH.js";import{X as F,P as M}from"./useFormValidate-BonXcG65.js";import{d as $}from"./dayjs.min-Cg4NN4d1.js";import{S as D}from"./square-pen-Ba3FPZsI.js";import{T as j}from"./trash-2-BvdWlrNA.js";const q={class:"max-w-xl max-h-xl"},N={class:"justify-between border-b modal-card flex items-center p-4"},O={class:"justify-end border-t modal-card flex gap-2 p-4"},T={__name:"OrganizationDelete",props:{id:{type:Number,required:!0}},setup(y){const c=y,a=v(),f=w(),d=_(),m=async()=>{try{await a.remove(c.id),f.show("Muvaffaqiyatli o‘chirildi!","success"),d.close()}catch(i){f.show("Xatolik yuz berdi!","error"),console.error(i)}};return(i,e)=>{const l=b("UButton");return x(),p("div",q,[t("div",N,[e[2]||(e[2]=t("p",{class:"text-dark text-lg font-semibold"},"O‘chirish",-1)),s(l,{variant:"hover",onClick:e[0]||(e[0]=r=>o(d).close())},{default:n(()=>[s(o(F),{class:"w-5 h-5"})]),_:1})]),e[5]||(e[5]=t("div",{class:"p-4 text-center space-y-4"},[t("p",{class:"text-base text-dark"}," Siz rostdan hamo o‘chirmoqchimisiz? ")],-1)),t("div",O,[s(l,{onClick:e[1]||(e[1]=r=>o(d).close()),disabled:o(a).loading},{default:n(()=>[...e[3]||(e[3]=[g(" Bekor qilish ",-1)])]),_:1},8,["disabled"]),s(l,{variant:"danger",onClick:m,loading:o(a).loading},{default:n(()=>[...e[4]||(e[4]=[g(" O‘chirish ",-1)])]),_:1},8,["loading"])])])}}},Y={class:"flex flex-col items-center"},U={class:"relative flex bg-[#0F172A] shadow-sm flex-col gap-5 sm:flex-row sm:items-center sm:justify-between p-6 w-full overflow-hidden"},V={class:"flex-1 py-4"},A={class:"flex flex-col gap-4 bg-[#F4F6FC] shadow-md h-screen"},P={class:"overflow-hidden rounded-lg card-dark"},E={class:"min-w-full divide-y divide-gray-100 dark:divide-gray-600"},I={class:"divide-y divide-gray-100 dark:divide-gray-600"},L={class:"px-4 border-r py-3"},X={class:"px-4 border-r py-3"},G={class:"px-4 border-r py-3"},H={class:"px-4 py-3 flex gap-2 justify-center"},tt={__name:"OrganizationList",setup(y){const c=v(),a=_(),f=i=>a.open(T,{id:i}),d=i=>a.open(u,{id:i});function m(){a.open(u)}return C(()=>{c.fetchAll()}),(i,e)=>{const l=b("UButton");return x(),p("div",Y,[t("div",U,[e[1]||(e[1]=z('<svg class="absolute top-0 right-7 w-[400px] h-[200px] opacity-10" viewBox="0 0 200 100" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="80" r="20" stroke="#fff" stroke-width="30" fill="none"></circle><circle cx="20" cy="80" r="10" fill="#54774B" opacity="0.5"></circle><circle cx="100" cy="50" r="50" stroke="#fff" stroke-width="20" fill="none"></circle><circle cx="100" cy="50" r="12" fill="#54774B" opacity="0.3"></circle><path d="M 0 100 C 50 80, 150 80, 200 100" stroke="#fff" stroke-width="20" fill="none"></path></svg><h3 class="text-xl font-bold text-white z-10"> Tashkelotlar ro&#39;yxati </h3>',2)),s(l,{class:"z-10",variant:"primary",onClick:m},{default:n(()=>[s(o(M),{"stroke-width":"3"}),e[0]||(e[0]=t("span",{class:"px-1"},"Qo‘shish",-1))]),_:1})]),t("div",V,[t("div",A,[t("div",P,[t("table",E,[e[2]||(e[2]=t("thead",{class:"bg-gray-50 dark:bg-gray-800"},[t("tr",null,[t("th",{class:"px-4 border-r py-3 text-left text-md font-semibold text-gray-700 dark:text-gray-200"}," ID "),t("th",{class:"px-4 border-r py-3 text-left text-md font-semibold text-gray-700 dark:text-gray-200"}," Manzil "),t("th",{class:"px-4 border-r py-3 text-left text-md font-semibold text-gray-700 dark:text-gray-200"}," Yaratilgan "),t("th",{class:"px-4 py-3 text-left text-sm font-bold text-gray-700 dark:text-gray-200 uppercase"}," Tahrirlash ")])],-1)),t("tbody",I,[(x(!0),p(B,null,S(o(c).organizations,r=>(x(),p("tr",{key:r.id,class:"hover:bg-[#F4F6FC]"},[t("td",L,"ID-"+h(r.id),1),t("td",X,h(r.name_oz),1),t("td",G,h(o($)(r.created_at).format("DD MMMM YYYY")),1),t("td",H,[s(l,{onClick:k=>d(r.id),variant:"hover"},{default:n(()=>[s(o(D),{class:"w-5 h-5"})]),_:1},8,["onClick"]),s(l,{onClick:k=>f(r.id),variant:"hover"},{default:n(()=>[s(o(j),{class:"w-5 h-5 text-red-500"})]),_:1},8,["onClick"])])]))),128))])])])])])])}}};export{tt as default};
