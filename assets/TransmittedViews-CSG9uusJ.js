import{_ as pe,U as ve}from"./UModal-DwQh5K7z.js";import{a as be,L as xe,b as K,r as ie,x as $e,d as H,o as z,h as c,F as Q,z as oe,y as ye,v as le,e as o,t as F,l as ce,i as O,f as B,_ as de,s as J,c as ae,m as _e,g as ge,M as ke}from"./index-401tMVUG.js";import{H as we,_ as D,P as Me,F as De,u as Se}from"./dockStore-Cu2ckYvs.js";import{E as ze}from"./eye-CUSZTYL_.js";import"./chevron-right-CJrroqrm.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=be("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var Z={exports:{}},Oe=Z.exports,re;function Ce(){return re||(re=1,(function(p,C){(function(w,y){p.exports=y()})(Oe,(function(){var w=1e3,y=6e4,j=36e5,_="millisecond",M="second",f="minute",h="hour",u="day",b="week",v="month",ee="quarter",T="year",I="date",te="Invalid Date",ue=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,fe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,he={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var n=["th","st","nd","rd"],e=a%100;return"["+a+(n[(e-20)%10]||n[e]||n[0])+"]"}},G=function(a,n,e){var s=String(a);return!s||s.length>=n?a:""+Array(n+1-s.length).join(e)+a},me={s:G,z:function(a){var n=-a.utcOffset(),e=Math.abs(n),s=Math.floor(e/60),t=e%60;return(n<=0?"+":"-")+G(s,2,"0")+":"+G(t,2,"0")},m:function a(n,e){if(n.date()<e.date())return-a(e,n);var s=12*(e.year()-n.year())+(e.month()-n.month()),t=n.clone().add(s,v),r=e-t<0,i=n.clone().add(s+(r?-1:1),v);return+(-(s+(e-t)/(r?t-i:i-t))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:v,y:T,w:b,d:u,D:I,h,m:f,s:M,ms:_,Q:ee}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},N="en",L={};L[N]=he;var ne="$isDayjsObject",X=function(a){return a instanceof P||!(!a||!a[ne])},W=function a(n,e,s){var t;if(!n)return N;if(typeof n=="string"){var r=n.toLowerCase();L[r]&&(t=r),e&&(L[r]=e,t=r);var i=n.split("-");if(!t&&i.length>1)return a(i[0])}else{var d=n.name;L[d]=n,t=d}return!s&&t&&(N=t),t||!s&&N},x=function(a,n){if(X(a))return a.clone();var e=typeof n=="object"?n:{};return e.date=a,e.args=arguments,new P(e)},l=me;l.l=W,l.i=X,l.w=function(a,n){return x(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var P=(function(){function a(e){this.$L=W(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[ne]=!0}var n=a.prototype;return n.parse=function(e){this.$d=(function(s){var t=s.date,r=s.utc;if(t===null)return new Date(NaN);if(l.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var i=t.match(ue);if(i){var d=i[2]-1||0,m=(i[7]||"0").substring(0,3);return r?new Date(Date.UTC(i[1],d,i[3]||1,i[4]||0,i[5]||0,i[6]||0,m)):new Date(i[1],d,i[3]||1,i[4]||0,i[5]||0,i[6]||0,m)}}return new Date(t)})(e),this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return l},n.isValid=function(){return this.$d.toString()!==te},n.isSame=function(e,s){var t=x(e);return this.startOf(s)<=t&&t<=this.endOf(s)},n.isAfter=function(e,s){return x(e)<this.startOf(s)},n.isBefore=function(e,s){return this.endOf(s)<x(e)},n.$g=function(e,s,t){return l.u(e)?this[s]:this.set(t,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,s){var t=this,r=!!l.u(s)||s,i=l.p(e),d=function(V,k){var Y=l.w(t.$u?Date.UTC(t.$y,k,V):new Date(t.$y,k,V),t);return r?Y:Y.endOf(u)},m=function(V,k){return l.w(t.toDate()[V].apply(t.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(k)),t)},$=this.$W,g=this.$M,S=this.$D,q="set"+(this.$u?"UTC":"");switch(i){case T:return r?d(1,0):d(31,11);case v:return r?d(1,g):d(0,g+1);case b:var U=this.$locale().weekStart||0,A=($<U?$+7:$)-U;return d(r?S-A:S+(6-A),g);case u:case I:return m(q+"Hours",0);case h:return m(q+"Minutes",1);case f:return m(q+"Seconds",2);case M:return m(q+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,s){var t,r=l.p(e),i="set"+(this.$u?"UTC":""),d=(t={},t[u]=i+"Date",t[I]=i+"Date",t[v]=i+"Month",t[T]=i+"FullYear",t[h]=i+"Hours",t[f]=i+"Minutes",t[M]=i+"Seconds",t[_]=i+"Milliseconds",t)[r],m=r===u?this.$D+(s-this.$W):s;if(r===v||r===T){var $=this.clone().set(I,1);$.$d[d](m),$.init(),this.$d=$.set(I,Math.min(this.$D,$.daysInMonth())).$d}else d&&this.$d[d](m);return this.init(),this},n.set=function(e,s){return this.clone().$set(e,s)},n.get=function(e){return this[l.p(e)]()},n.add=function(e,s){var t,r=this;e=Number(e);var i=l.p(s),d=function(g){var S=x(r);return l.w(S.date(S.date()+Math.round(g*e)),r)};if(i===v)return this.set(v,this.$M+e);if(i===T)return this.set(T,this.$y+e);if(i===u)return d(1);if(i===b)return d(7);var m=(t={},t[f]=y,t[h]=j,t[M]=w,t)[i]||1,$=this.$d.getTime()+e*m;return l.w($,this)},n.subtract=function(e,s){return this.add(-1*e,s)},n.format=function(e){var s=this,t=this.$locale();if(!this.isValid())return t.invalidDate||te;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=l.z(this),d=this.$H,m=this.$m,$=this.$M,g=t.weekdays,S=t.months,q=t.meridiem,U=function(k,Y,E,R){return k&&(k[Y]||k(s,r))||E[Y].slice(0,R)},A=function(k){return l.s(d%12||12,k,"0")},V=q||function(k,Y,E){var R=k<12?"AM":"PM";return E?R.toLowerCase():R};return r.replace(fe,(function(k,Y){return Y||(function(E){switch(E){case"YY":return String(s.$y).slice(-2);case"YYYY":return l.s(s.$y,4,"0");case"M":return $+1;case"MM":return l.s($+1,2,"0");case"MMM":return U(t.monthsShort,$,S,3);case"MMMM":return U(S,$);case"D":return s.$D;case"DD":return l.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return U(t.weekdaysMin,s.$W,g,2);case"ddd":return U(t.weekdaysShort,s.$W,g,3);case"dddd":return g[s.$W];case"H":return String(d);case"HH":return l.s(d,2,"0");case"h":return A(1);case"hh":return A(2);case"a":return V(d,m,!0);case"A":return V(d,m,!1);case"m":return String(m);case"mm":return l.s(m,2,"0");case"s":return String(s.$s);case"ss":return l.s(s.$s,2,"0");case"SSS":return l.s(s.$ms,3,"0");case"Z":return i}return null})(k)||i.replace(":","")}))},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,s,t){var r,i=this,d=l.p(s),m=x(e),$=(m.utcOffset()-this.utcOffset())*y,g=this-m,S=function(){return l.m(i,m)};switch(d){case T:r=S()/12;break;case v:r=S();break;case ee:r=S()/3;break;case b:r=(g-$)/6048e5;break;case u:r=(g-$)/864e5;break;case h:r=g/j;break;case f:r=g/y;break;case M:r=g/w;break;default:r=g}return t?r:l.a(r)},n.daysInMonth=function(){return this.endOf(v).$D},n.$locale=function(){return L[this.$L]},n.locale=function(e,s){if(!e)return this.$L;var t=this.clone(),r=W(e,s,!0);return r&&(t.$L=r),t},n.clone=function(){return l.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a})(),se=P.prototype;return x.prototype=se,[["$ms",_],["$s",M],["$m",f],["$H",h],["$W",u],["$M",v],["$y",T],["$D",I]].forEach((function(a){se[a[1]]=function(n){return this.$g(n,a[0],a[1])}})),x.extend=function(a,n){return a.$i||(a(n,P,x),a.$i=!0),x},x.locale=W,x.isDayjs=X,x.unix=function(a){return x(1e3*a)},x.en=L[N],x.Ls=L,x.p={},x}))})(Z)),Z.exports}var Fe=Ce();const He=xe(Fe),Te=["onClick"],Ye={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-6"},Le={class:"flex-1 min-w-0"},Ue={class:"font-bold text-xl text-zinc-800 dark:text-white/90"},Ve={class:"flex flex-col gap-1 font-medium text-md"},Ie={class:"flex-1 min-w-0 truncate"},qe={class:"flex gap-1"},Be={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},Ne={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},Ae={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},Ee={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},We={class:"flex-shrink-0 mt-2 md:mt-0"},Pe={__name:"FileList",props:{dockfiles:{type:Array,default:()=>[]}},emits:["select"],setup(p,{emit:C}){const w=K(null),y=C;function j(_){w.value=_.id,y("select",_)}return(_,M)=>{const f=ie("UTooltip"),h=$e("wave");return z(),H(Q,null,[(z(!0),H(Q,null,oe(p.dockfiles,u=>ye((z(),H("div",{key:u.id,onClick:b=>j(u),class:le(["task card-dark border-y px-2 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-600/50",w.value===u.id?"bg-blue-100":""])},[o("div",Ye,[o("div",Le,[o("h4",Ue," SSV-"+F(u.id)+"/05 ",1),o("div",Ve,[o("span",Ie,[M[0]||(M[0]=o("span",{class:"font-semibold whitespace-nowrap"},"Mazmun:",-1)),ce(" "+F(u.short_content.slice(0,200))+F(u.short_content.length>50?"...":""),1)]),M[1]||(M[1]=o("span",{class:"text-zinc-600 dark:text-zinc-300 whitespace-nowrap"}," Bajarish muddati: 11 yan 2025 ",-1))]),o("div",qe,[c(f,{text:"Ijrochi",position:"bottom"},{default:O(()=>[o("span",Be,F(u.executor),1)]),_:2},1024),c(f,{text:"Kirish raqami",position:"bottom"},{default:O(()=>[o("span",Ne,F(u.incoming_number),1)]),_:2},1024),c(f,{text:"chiqish raqami",position:"bottom"},{default:O(()=>[o("span",Ae,F(u.outgoing_number),1)]),_:2},1024),c(f,{text:"Yaratilgan sana",position:"bottom"},{default:O(()=>[o("span",Ee,F(u.created_at?B(He)(u.created_at).format("YYYY-MM-DD HH:mm"):""),1)]),_:2},1024)])]),o("div",We,[c(f,{text:"Ijro holatida",position:"top"},{default:O(()=>[c(B(we),{class:"w-6 h-6 text-blue-500"})]),_:1})])])],10,Te)),[[h]])),128)),c(pe)],64)}}},Re={key:0,class:"rounded card-dark border-2 shadow-md p-6"},Je={class:"mb-6 flex text-lg font-semibold border-b border-zinc-200 dark:border-zinc-600 pb-2"},Ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},Ke={key:0},Qe={class:"grid grid-cols-1 gap-1"},Ge={class:"flex items-center gap-4"},Xe={class:"text-dark font-semibold"},et={class:"flex items-center gap-2"},tt={__name:"FileShow",props:{dockfile:{type:Object,default:null}},setup(p){const C=K(!1),w=K(null),y=f=>f?.split(".").pop()?.toLowerCase()||"",j=f=>f?.split("/").pop()||"file",_=f=>{y(f)==="pdf"?(w.value=f,C.value=!0):alert("Bu fayl PDF emas, ko‘rish mumkin emas.")},M=async f=>{try{const h=await fetch(f);if(!h.ok)throw new Error(`Fayl yuklanmadi: ${h.status}`);const u=await h.blob(),b=j(f),v=document.createElement("a");v.href=URL.createObjectURL(u),v.download=b,document.body.appendChild(v),v.click(),v.remove(),URL.revokeObjectURL(v.href)}catch(h){console.error("Fayl yuklashda xato:",h),alert("Fayl yuklab olishda xato yuz berdi!")}};return(f,h)=>{const u=ie("UButton");return z(),H(Q,null,[p.dockfile?(z(),H("div",Re,[o("h2",Je,[h[1]||(h[1]=ce(" Hujjat- ",-1)),c(D,{value:p.dockfile.incoming_number},null,8,["value"])]),o("div",Ze,[c(D,{label:"Kelib tushgan raqam",value:p.dockfile.incoming_number},null,8,["value"]),c(D,{label:"Chiqish raqami",value:p.dockfile.outgoing_number},null,8,["value"]),c(D,{label:"Hujjat nomi",value:p.dockfile.document_name},null,8,["value"]),c(D,{label:"Ijrochi",value:p.dockfile.executor},null,8,["value"]),c(D,{label:"Telefon raqam",value:p.dockfile.phone_number},null,8,["value"]),c(D,{label:"Holati",value:p.dockfile.status},null,8,["value"]),c(D,{label:"Qisqa mazmun",value:p.dockfile.short_content,class:"md:col-span-2"},null,8,["value"]),c(D,{label:"Izoh",value:p.dockfile.description,class:"md:col-span-2"},null,8,["value"]),c(D,{label:"Tashkilot",value:p.dockfile.organization_name_oz},null,8,["value"]),c(D,{label:"Hujjat turi",value:p.dockfile.doc_type_name_oz},null,8,["value"]),c(D,{label:"Masala turi",value:p.dockfile.issue_type_name_oz},null,8,["value"])]),p.dockfile.files?.length?(z(),H("div",Ke,[c(D,{class:"py-2",label:"Fayl"}),o("div",Qe,[(z(!0),H(Q,null,oe(p.dockfile.files,b=>(z(),H("div",{key:b.id,class:"flex items-center justify-between border-2 card-dark rounded px-4 py-3 hover:bg-blue-100 dark:hover:bg-zinc-600 cursor-pointer"},[o("div",Ge,[o("div",{class:le(["flex items-center justify-center text-white font-semibold px-4 py-4 rounded",{"bg-red-500":y(b.url)==="pdf","bg-blue-500":["doc","docx"].includes(y(b.url)),"bg-gray-500":!["pdf","doc","docx"].includes(y(b.url))}])},F(y(b.url).toUpperCase()),3),o("div",null,[o("p",Xe,F(j(b.url).slice(0,20)),1)])]),o("div",et,[y(b.url)==="pdf"?(z(),ae(u,{key:0,onClick:v=>_(b.url),class:"p-2 rounded-full hover:bg-blue-200 transition",title:"Ko‘rish"},{default:O(()=>[c(B(ze),{class:"w-6 h-6 text-zinc-500"})]),_:1},8,["onClick"])):J("",!0),c(u,{onClick:v=>M(b.url),class:"p-2 rounded-full hover:bg-blue-200 transition",title:"Yuklab olish"},{default:O(()=>[c(B(De),{class:"w-6 h-6 text-zinc-500"})]),_:1},8,["onClick"])])]))),128))])])):J("",!0)])):J("",!0),c(ve,{modelValue:C.value,"onUpdate:modelValue":h[0]||(h[0]=b=>C.value=b),width:".ignore-dark w-full h-full rounded-[0px] h-screen bg-zinc-50",title:"Hujjat fayli"},{footer:O(()=>[...h[2]||(h[2]=[])]),default:O(()=>[w.value?(z(),ae(Me,{key:0,source:w.value},null,8,["source"])):J("",!0)]),_:1},8,["modelValue"])],64)}}},nt=de(tt,[["__scopeId","data-v-30d80998"]]),st={class:"mx-auto max-w-(--breakpoint-2xl)"},at={class:"space-y gap-y-2"},rt={class:"w-ful pb-2"},it={class:"card-dark flex items-center w-full h-full rounded border-2 justify-between px-2"},ot={class:""},lt={class:"grid grid-cols-1 lg:grid-cols-12"},ct={class:"lg:col-span-8 2xl:col-span-8 pr-2"},dt={class:"rounded card-dark border-2"},ut={class:"overflow-hidden rounded"},ft={class:"custom-scrollbar h-screen overflow-y-auto"},ht={class:"space-y-2 lg:col-span-4 2xl:col-span-4"},mt={__name:"TransmittedViews",setup(p){const C=Se(),w=K(null);_e(()=>{C.fetchAll()});const y=j=>{w.value=j};return(j,_)=>(z(),H("div",st,[o("div",at,[o("div",rt,[o("div",it,[_[1]||(_[1]=ge('<div class="flex items-center" data-v-f8bf4ed1><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-blue-500" data-v-f8bf4ed1><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-f8bf4ed1>Barchasi</span><span class="bg-orange-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-f8bf4ed1>187</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-f8bf4ed1><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-f8bf4ed1>Bajarilgan</span><span class="bg-green-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-f8bf4ed1>154</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-f8bf4ed1><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-f8bf4ed1>Bajarilmagan</span><span class="bg-red-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-f8bf4ed1>0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-f8bf4ed1><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-f8bf4ed1>Bajarilmoqda</span><span class="bg-blue-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-f8bf4ed1>32</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent" data-v-f8bf4ed1><span class="text-zinc-700 dark:text-zinc-300 font-semibold" data-v-f8bf4ed1>Muddatidan kech bajarilgan</span><span class="bg-amber-400 text-white text-sm px-2 py-0.5 rounded-full font-semibold" data-v-f8bf4ed1>1</span></div></div>',1)),o("div",ot,[c(ke,{variant:"primary"},{default:O(()=>[c(B(je),{class:"w-5 h-5"}),_[0]||(_[0]=o("span",{class:"px-1"}," Hujjat yartish ",-1))]),_:1})])])]),o("div",lt,[o("div",ct,[o("div",dt,[_[2]||(_[2]=o("h2",{class:"text-lg font-semibold text-dark p-2 py-4"},"Topshiriqlar",-1)),o("div",ut,[o("div",ft,[c(Pe,{dockfiles:B(C).docks,onSelect:y},null,8,["dockfiles"])])])])]),o("div",ht,[c(nt,{dockfile:w.value},null,8,["dockfile"])])])])]))}},yt=de(mt,[["__scopeId","data-v-f8bf4ed1"]]);export{yt as default};
