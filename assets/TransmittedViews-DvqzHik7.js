import{d as w,H as z,_ as s,a as $,u as j,b as q}from"./InfoItem-gRvsKbQJ.js";import{r as B,d as c,o as d,e,t as i,l as D,h as a,i as u,f as p,v as C,s as x,F as h,z as k,c as g,b as v,m as H,g as S,x as I,y as T}from"./index-C_KRwJd6.js";import"./UModal-BMmYuYLD.js";import"./eye-CjstG9HE.js";const V={class:"flex flex-col md:flex-row md:items-start justify-between gap-4 md:gap-6"},M={class:"flex-1 min-w-0"},Y={class:"font-bold text-xl text-zinc-800 dark:text-white/90"},F={class:"flex flex-col gap-1 font-medium text-md"},N={class:"flex-1 min-w-0 truncate"},K={class:"text-zinc-600 dark:text-zinc-300 whitespace-nowrap"},L={class:"flex gap-1"},O={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},U={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},A={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},E={class:"card-dark mt-2 inline-flex rounded border px-2 py-0.5 text-md font-semibold truncate max-w-full"},Q={class:"flex-shrink-0 mt-2 md:mt-0"},G="task card-dark border-y px-2 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-600/50",J={__name:"DockListItem",props:{dock:{type:Object,required:!0},active:{type:Boolean,default:!1}},setup(t){return(r,o)=>{const l=B("UTooltip");return d(),c("div",{onClick:o[0]||(o[0]=m=>r.$emit("select",t.dock)),class:C([[G,t.active?"bg-blue-100":""],"task card-dark border-y px-2 py-2 cursor-pointer hover:bg-zinc-100 dark:hover:bg-zinc-600/50"])},[e("div",V,[e("div",M,[e("h4",Y,"SSV-"+i(t.dock.id)+"/05",1),e("div",F,[e("span",N,[o[1]||(o[1]=e("span",{class:"font-semibold whitespace-nowrap"},"Mazmun:",-1)),D(" "+i(t.dock.short_content?.slice(0,200))+i((t.dock.short_content?.length??0)>50?"...":""),1)]),e("span",K," Bajarish muddati: "+i(t.dock.deadline),1)]),e("div",L,[a(l,{text:"Ijrochi",position:"bottom"},{default:u(()=>[e("span",O,i(t.dock.executor),1)]),_:1}),a(l,{text:"Kirish raqami",position:"bottom"},{default:u(()=>[e("span",U,i(t.dock.incoming_number),1)]),_:1}),a(l,{text:"Chiqish raqami",position:"bottom"},{default:u(()=>[e("span",A,i(t.dock.outgoing_number),1)]),_:1}),a(l,{text:"Yaratilgan sana",position:"bottom"},{default:u(()=>[e("span",E,i(t.dock.created_at?p(w)(t.dock.created_at).format("YYYY-MM-DD HH:mm"):""),1)]),_:1})])]),e("div",Q,[a(l,{text:"Ijro holatida",position:"top"},{default:u(()=>[a(p(z),{class:"w-6 h-6 text-blue-500"})]),_:1})])])],2)}}},P={key:0},R={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4"},W={key:0},X={class:"space-y-2"},Z={__name:"DockShowItem",props:{dockfile:{type:Object,default:null}},setup(t){return(r,o)=>t.dockfile?(d(),c("div",P,[e("div",R,[a(s,{label:"Kelib tushgan raqam",value:t.dockfile.incoming_number},null,8,["value"]),a(s,{label:"Chiqish raqami",value:t.dockfile.outgoing_number},null,8,["value"]),a(s,{label:"Hujjat nomi",value:t.dockfile.document_name,class:"md:col-span-2"},null,8,["value"]),a(s,{label:"Ijrochi",value:t.dockfile.executor},null,8,["value"]),a(s,{label:"Telefon raqam",value:t.dockfile.phone_number},null,8,["value"]),a(s,{label:"Holati",value:t.dockfile.status},null,8,["value"]),a(s,{label:"Qisqa mazmun",value:t.dockfile.short_content,class:"md:col-span-2"},null,8,["value"]),a(s,{label:"Izoh",value:t.dockfile.description,class:"md:col-span-2"},null,8,["value"]),a(s,{label:"Tashkilot",value:t.dockfile.organization_name_oz},null,8,["value"]),a(s,{label:"Hujjat turi",value:t.dockfile.doc_type_name_oz},null,8,["value"]),a(s,{label:"Yetkazib berish usuli",value:t.dockfile.delivery_methods_name_oz},null,8,["value"]),a(s,{label:"Masala turi",value:t.dockfile.issue_type_name_oz},null,8,["value"])]),t.dockfile.files?.length?(d(),c("div",W,[o[0]||(o[0]=e("h3",{class:"font-semibold mb-2"},"Fayllar:",-1)),e("div",X,[(d(!0),c(h,null,k(t.dockfile.files,l=>(d(),g($,{key:l.id,file:l},null,8,["file"]))),128))])])):x("",!0)])):x("",!0)}},ee={class:"mx-auto max-w-(--breakpoint-2xl)"},te={class:"space-y gap-y-2"},ae={class:"w-ful"},se={class:"card-dark flex items-center w-full h-full rounded border justify-between pr-2"},le={class:"grid grid-cols-1 lg:grid-cols-12"},oe={class:"lg:col-span-8 2xl:col-span-8"},ne={class:"card-dark border"},ie={class:"h-[calc(100vh-8rem)] overflow-y-auto"},de={class:"space-y-2 lg:col-span-4 2xl:col-span-4 pb-10"},ce={class:"card-dark border"},re={class:"h-[calc(100vh-8rem)] overflow-y-auto"},ve={__name:"TransmittedViews",setup(t){const r=j(),o=v(null),l=v(null),m=v([]);H(async()=>{await r.fetchAll(),m.value=r.docks});const _=b=>{l.value=b.id,o.value=b};return(b,n)=>{const y=I("wave");return d(),c("div",ee,[e("div",te,[e("div",ae,[e("div",se,[n[0]||(n[0]=S('<div class="flex items-center"><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-blue-500"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Barchasi</span><span class="bg-orange-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">187</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Bajarilgan</span><span class="bg-green-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">154</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Bajarilmagan</span><span class="bg-red-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">0</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Bajarilmoqda</span><span class="bg-blue-500 text-white text-sm px-2 py-0.5 rounded-full font-semibold">32</span></div><div class="flex items-center gap-2 py-4 p-2 cursor-pointer hover:bg-zinc-200 border-b-4 border-b-transparent"><span class="text-zinc-700 dark:text-zinc-300 font-semibold">Muddatidan kech bajarilgan</span><span class="bg-amber-400 text-white text-sm px-2 py-0.5 rounded-full font-semibold">1</span></div></div>',1)),e("div",null,[a(q)])])]),e("div",le,[e("div",oe,[e("div",ne,[n[2]||(n[2]=e("h2",{class:"text-lg border-b font-semibold text-dark p-2 py-4"},"Topshiriqlar",-1)),e("div",ie,[(d(!0),c(h,null,k(m.value,f=>T((d(),g(J,{key:f.id,dock:f,active:l.value===f.id,onSelect:_},null,8,["dock","active"])),[[y]])),128)),n[1]||(n[1]=e("div",{class:"h-24 w-full"},null,-1))])])]),e("div",de,[e("div",ce,[n[4]||(n[4]=e("h2",{class:"text-lg border-b font-semibold text-dark p-2 py-4"},"Hujjat",-1)),e("div",re,[a(Z,{class:"p-2",dockfile:o.value},null,8,["dockfile"]),n[3]||(n[3]=e("div",{class:"h-24 w-full"},null,-1))])])])])])])}}};export{ve as default};
