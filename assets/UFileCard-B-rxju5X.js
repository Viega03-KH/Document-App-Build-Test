import{k as h,E as R,A as M,Y as B,J as r,m as S,r as E,a as F,o as u,b as c,q as V,v as w,c as _,p as x,g as i,h as f,f as p}from"./index-CSjzk14l.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=h("arrow-down-to-line",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=h("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),A=()=>R.get("task_status_list"),z=M("status",{state:()=>({status:[],selectedStatus:null,loading:!1,error:null}),actions:{async fetchAll(){try{this.loading=!0;const t=await A();this.status=t.data}catch(t){this.error=t,console.error("Status olishda xato:",t)}finally{this.loading=!1}}}}),N={class:"flex items-center justify-between border border-[#EAECF0] card-dark shadow-sm rounded-[12px] px-4 py-3 hover:bg-[#4076FF0D] dark:hover:bg-gray-600 cursor-pointer"},H={class:"flex items-center gap-4 min-w-0"},T=["title"],I={class:"flex items-center gap-2 flex-shrink-0 ml-4"},J={__name:"UFileCard",props:{file:{type:Object,required:!0},showDelete:{type:Boolean,default:!1}},emits:["remove"],setup(t,{emit:g}){const o=t,m=g;B();const l=r(()=>{const e=o.file;return e&&(e.name||e.url?.split("/").pop())||"file"}),n=r(()=>l.value?.split(".").pop()?.toLowerCase()||""),U=r(()=>n.value==="pdf"?"bg-red-500":["doc","docx"].includes(n.value)?"bg-blue-500":"bg-gray-500"),b=r(()=>n.value==="pdf"),v=[],k=r(()=>{const e=o.file;return e?e.url?e.url:e instanceof File?(e._objectURL||(e._objectURL=URL.createObjectURL(e),v.push(e._objectURL)),e._objectURL):"":""});S(()=>{v.forEach(e=>URL.revokeObjectURL(e))});const L=()=>{b.value&&window.open(k.value,"_blank","noopener,noreferrer")},j=async()=>{const e=k.value;try{const a=await(await fetch(e)).blob(),y=URL.createObjectURL(a),s=document.createElement("a");s.href=y,s.download=l.value,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(y)}catch(d){console.error("Download error:",d)}},C=()=>{o.file.id?m("remove",{id:o.file.id}):m("remove",o.file)};return(e,d)=>{const a=E("UButton");return u(),F("div",N,[c("div",H,[c("div",{class:V(["flex items-center justify-center text-white font-semibold w-16 px-4 py-4 rounded-[12px] shrink-0",U.value])},w(n.value.toUpperCase()),3),c("p",{class:"w-4/5 text-dark font-semibold truncate",title:l.value},w(l.value),9,T)]),c("div",I,[b.value?(u(),_(a,{key:0,class:"p-2 rounded-full hover:bg-blue-200",onClick:L},{default:f(()=>[i(p(O),{strokeWidth:"2.5",class:"w-5 h-5 text-gray-500"})]),_:1})):x("",!0),i(a,{onClick:j,class:"p-2 rounded-full hover:bg-blue-200",title:"Yuklab olish"},{default:f(()=>[i(p(D),{class:"w-5 h-5 text-gray-500"})]),_:1}),t.showDelete?(u(),_(a,{key:1,onClick:C,class:"p-2 rounded-full hover:bg-blue-200",title:"Oâ€˜chirish"},{default:f(()=>[i(p(q),{class:"w-5 h-5 text-gray-500"})]),_:1})):x("",!0)])])}}};export{J as _,z as u};
