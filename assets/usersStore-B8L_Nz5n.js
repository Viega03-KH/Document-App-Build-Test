import{E as r,A as a}from"./index-m9snDiDH.js";const i=(e=1)=>r.get(`/user_list?page=${e}`),n=e=>r.post("/user_create",e),l=e=>r.get(`/user_show/${e}`),o=(e,t)=>r.put(`/user_update/${e}`,t),c=e=>r.delete(`/user_destroy/${e}`),h=a("users",{state:()=>({users:[],pagination:{current_page:1,last_page:1,total:0},selectedUser:null,loading:!1,error:null}),actions:{async fetchUsers(e=null){this.loading=!0,this.error=null;try{const t=e||this.pagination.current_page,s=await i(t);this.users=s.data.data||s.data,this.pagination.current_page=s.data.current_page,this.pagination.last_page=s.data.last_page,this.pagination.total=s.data.total}catch(t){this.error=t.message}finally{this.loading=!1}},async fetchUser(e){this.loading=!0;try{const t=await l(e);return this.selectedUser=t.data,t.data}catch(t){this.error=t.message}finally{this.loading=!1}},async addUser(e){this.loading=!0;try{return await n(e),await this.fetchUsers(),{success:!0}}catch(t){return this.error=t.message,{success:!1,error:t.message}}finally{this.loading=!1}},async editUser(e,t){this.loading=!0,this.error=null;try{const s=await o(e,t);return await this.fetchUsers(),{success:!0,data:s.data}}catch(s){return this.error=s.message,{success:!1,error:this.error}}finally{this.loading=!1}},async removeUser(e){this.loading=!0;try{await c(e),await this.fetchUsers()}catch(t){this.error=t.message}finally{this.loading=!1}}}});export{h as u};
